<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>فروشگاه عطر اصل</title>
    <style>
        /* استایل‌های پایه */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Tahoma', 'Arial', sans-serif;
        }
        
        :root {
            --primary-color: #6a1b9a;
            --secondary-color: #9c27b0;
            --light-color: #e1bee7;
            --dark-color: #4a148c;
            --success-color: #4CAF50;
            --error-color: #F44336;
            --text-color: #333;
            --light-text: #f5f5f5;
        }
        
        body {
            background-color: #f8f9fa;
            color: var(--text-color);
            line-height: 1.6;
            padding-bottom: 50px;
        }
        
        .container {
            width: 100%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* هدر */
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--dark-color));
            color: white;
            text-align: center;
            padding: 2rem 0;
            margin-bottom: 2rem;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);
        }
        
        header h1 {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }
        
        header p {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        /* استایل بخش‌ها */
        section {
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        h2 {
            color: var(--primary-color);
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--light-color);
        }
        
        /* استایل فرم */
        form {
            display: grid;
            grid-gap: 1rem;
        }
        
        @media (min-width: 768px) {
            form {
                grid-template-columns: 1fr 1fr;
            }
            
            .full-width {
                grid-column: span 2;
            }
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: bold;
        }
        
        input, textarea, select {
            width: 100%;
            padding: 0.8rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 2px rgba(156, 39, 176, 0.2);
        }
        
        .error {
            color: var(--error-color);
            font-size: 0.85rem;
            margin-top: 0.25rem;
        }
        
        /* بخش اینستاگرام */
        .instagram-info {
            text-align: center;
            padding: 2rem;
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743, #cc2366, #bc1888);
            color: white;
            border-radius: 8px;
        }
        
        .instagram-info a {
            color: white;
            text-decoration: none;
            font-weight: bold;
        }
        
        .instagram-info a:hover {
            text-decoration: underline;
        }
        
        /* دسته‌بندی عطرها */
        .categories {
            display: flex;
            overflow-x: auto;
            padding-bottom: 1rem;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .category-btn {
            padding: 0.8rem 1.5rem;
            background-color: var(--light-color);
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            white-space: nowrap;
            transition: background 0.3s;
        }
        
        .category-btn.active {
            background-color: var(--primary-color);
            color: white;
        }
        
        /* گالری عطرها */
        .perfume-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1rem;
        }
        
        .perfume-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .perfume-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .perfume-info {
            padding: 1rem;
        }
        
        .perfume-title {
            font-weight: bold;
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }
        
        .perfume-price {
            color: var(--dark-color);
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .add-to-cart {
            width: 100%;
            padding: 0.6rem;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: bold;
            transition: background 0.3s;
        }
        
        .add-to-cart:hover {
            background-color: var(--dark-color);
        }
        
        /* استایل سبد خرید */
        .cart {
            margin-top: 2rem;
        }
        
        .cart-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 1rem;
        }
        
        .cart-table th, .cart-table td {
            padding: 1rem;
            text-align: right;
            border-bottom: 1px solid #ddd;
        }
        
        .cart-table th {
            background-color: var(--light-color);
        }
        
        .quantity-input {
            width: 60px;
            text-align: center;
            padding: 0.5rem;
        }
        
        .remove-item {
            background-color: var(--error-color);
            color: white;
            border: none;
            border-radius: 4px;
            padding: 0.4rem 0.8rem;
            cursor: pointer;
        }
        
        .cart-summary {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 0;
            border-top: 2px solid var(--primary-color);
            margin-top: 1rem;
        }
        
        .total-price {
            font-size: 1.2rem;
            font-weight: bold;
        }
        
        /* دکمه‌های عملیات */
        .action-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin-top: 2rem;
        }
        
        .btn {
            padding: 1rem 2rem;
            border: none;
            border-radius: 4px;
            font-weight: bold;
            cursor: pointer;
            transition: background 0.3s;
            font-size: 1rem;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--dark-color);
        }
        
        .btn-secondary {
            background-color: #6c757d;
            color: white;
        }
        
        .btn-secondary:hover {
            background-color: #5a6268;
        }
        
        /* نمایش موفقیت سفارش */
        .order-success {
            display: none;
            background-color: #e8f5e9;
            padding: 2rem;
            border-radius: 8px;
            margin-top: 2rem;
        }
        
        .order-success h3 {
            color: var(--success-color);
            margin-bottom: 1rem;
        }
        
        .whatsapp-message {
            margin-top: 1.5rem;
            padding: 1rem;
            background-color: #f1f8e9;
            border-right: 4px solid var(--success-color);
            font-weight: bold;
        }
        
        /* تنظیمات واکنش‌گرا */
        @media (max-width: 768px) {
            header h1 {
                font-size: 2rem;
            }
            
            .cart-table, .cart-table thead, .cart-table tbody, .cart-table th, .cart-table td, .cart-table tr {
                display: block;
            }
            
            .cart-table thead tr {
                position: absolute;
                top: -9999px;
                right: -9999px;
            }
            
            .cart-table tr {
                border: 1px solid #ddd;
                margin-bottom: 1rem;
                border-radius: 4px;
            }
            
            .cart-table td {
                border: none;
                border-bottom: 1px solid #ddd;
                position: relative;
                padding-right: 50%;
                text-align: left;
            }
            
            .cart-table td:before {
                position: absolute;
                top: 1rem;
                right: 0.5rem;
                width: 45%;
                padding-right: 10px;
                white-space: nowrap;
                content: attr(data-label);
                font-weight: bold;
                text-align: right;
            }
            
            .cart-table td:last-child {
                border-bottom: 0;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
        }
        
        @media print {
            body * {
                visibility: hidden;
            }
            
            .cart, .cart * {
                visibility: visible;
            }
            
            .cart {
                position: absolute;
                left: 0;
                top: 0;
                width: 100%;
            }
            
            .remove-item, .action-buttons {
                display: none;
            }
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>فروشگاه عطر اصل</h1>
            <p>عرضه کننده عطرهای اصل و اورجینال</p>
        </div>
    </header>

    <div class="container">
        <!-- فرم اطلاعات خریدار -->
        <section id="buyer-info">
            <h2>اطلاعات خریدار</h2>
            <form id="buyer-form">
                <div>
                    <label for="firstName">نام</label>
                    <input type="text" id="firstName" name="firstName" required>
                    <div class="error" id="firstName-error"></div>
                </div>
                
                <div>
                    <label for="lastName">نام خانوادگی</label>
                    <input type="text" id="lastName" name="lastName" required>
                    <div class="error" id="lastName-error"></div>
                </div>
                
                <div>
                    <label for="phone">شماره موبایل</label>
                    <input type="tel" id="phone" name="phone" placeholder="09123456789" required>
                    <div class="error" id="phone-error"></div>
                </div>
                
                <div class="full-width">
                    <label for="address">آدرس محل تحویل</label>
                    <textarea id="address" name="address" rows="3" required></textarea>
                    <div class="error" id="address-error"></div>
                </div>
            </form>
        </section>

        <!-- اطلاعات اینستاگرام -->
        <section class="instagram-info">
            <h3>برای مشاهده تصاویر و جزئیات بیشتر عطرها به پیج اینستاگرام ما مراجعه کنید:</h3>
            <p><a href="https://www.instagram.com/buy_atr" target="_blank">@buy_atr</a></p>
        </section>

        <!-- دسته‌بندی و انتخاب عطر -->
        <section id="perfumes">
            <h2>انتخاب عطر -قیمت ها بر اساس 100 میل هست</h2>
            <div class="categories">
                <button class="category-btn active" data-category="all">همه</button>
                <button class="category-btn" data-category="men">مردانه</button>
                <button class="category-btn" data-category="women">زنانه</button>
                <button class="category-btn" data-category="unisex">یونیسکس</button>
            </div>
            
            <div class="perfume-grid" id="perfume-grid">
                <!-- محصولات توسط جاوااسکریپت پر می‌شوند -->
            </div>
        </section>

        <!-- سبد خرید -->
        <section class="cart" id="shopping-cart">
            <h2>سبد خرید</h2>
            <div id="cart-empty-message">سبد خرید شما خالی است.</div>
            
            <table class="cart-table" id="cart-table" style="display:none;">
                <thead>
                    <tr>
                        <th>نام عطر</th>
                        <th>قیمت واحد (تومان)</th>
                        <th>تعداد</th>
                        <th>قیمت کل (تومان)</th>
                        <th>عملیات</th>
                    </tr>
                </thead>
                <tbody id="cart-items">
                    <!-- محتوای سبد خرید توسط جاوااسکریپت پر می‌شود -->
                </tbody>
            </table>
            
            <div class="cart-summary" id="cart-summary" style="display:none;">
                <span>جمع کل:</span>
                <span class="total-price" id="total-price">0 تومان</span>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-primary" id="submit-order">ثبت سفارش</button>
                <button class="btn btn-secondary" id="print-cart">چاپ سبد خرید</button>
            </div>
        </section>
        
        <!-- بخش نمایش موفقیت سفارش -->
        <section class="order-success" id="order-success">
            <h3>سفارش شما با موفقیت ثبت شد</h3>
            <div id="final-order-details">
                <!-- جزئیات نهایی سفارش توسط جاوااسکریپت پر می‌شود -->
            </div>
            
              <div class="whatsapp-message">
				برای نهایی کردن خرید لطفاً تصویر این خرید را در واتس‌اپ به شماره 
				<a href="https://wa.me/989354372306" target="_blank" style="color:#25D366; font-weight:bold; text-decoration:none;">
				09354372306
				</a> 
				ارسال فرمایید.
			</div>
        </section>
    </div>

    <!-- جاوااسکریپت -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // اطلاعات عطرها
            const perfumes = [
                // عطرهای مردانه
                { id: 1, name: "Pasha de Cartier", category: "men", price: 3800000, brand: "" },
                { id: 2, name: "Platinum Égoïste – Chanel", category: "men", price: 3600000, brand: "" },
                { id: 3, name: "Nautica Voyage – Nautica", category: "men", price: 3400000, brand: "" },
                { id: 4, name: "Sauvage Elixir – Dior", category: "men", price: 3800000, brand: "" },
                { id: 5, name: "Altair – Parfums de Marly", category: "men", price: 3800000, brand: "" },
                { id: 6, name: "Tuscan Leather – Tom Ford", category: "men", price: 3600000, brand: "" },
                { id: 7, name: "Stronger With You – Emporio Armani", category: "men", price: 4400000, brand: "" },
				{ id: 8, name: "Lost Cherry – Tom Ford", category: "men", price: 4800000, brand: "" },
				{ id: 9, name: "Prada L’Homme - Pranhem ", category: "men", price: 3600000, brand: "" },
				{ id: 10, name: "Versus – Versace", category: "men", price: 3600000, brand: "" },
				{ id: 11, name: "Santal 33 – Le Labo", category: "men", price: 4400000, brand: "" },
                // عطرهای زنانه
                { id: 12, name: "Yara Candy – Lattafa", category: "women", price: 3600000, brand: "" },
                { id: 13, name: "Burberry Weekend", category: "women", price: 3100000, brand: "" },
                { id: 14, name: "Eclat d’Arpège – Lanvin", category: "women", price: 3800000, brand: "" },
                { id: 15, name: "Sexy Graffiti – Escada", category: "women", price: 3600000, brand: "" },
                { id: 16, name: "Euphoria – Calvin Klein", category: "women", price: 3600000, brand: "" },
                { id: 17, name: "DKNY Be Delicious – Donna Karan", category: "women", price: 3600000, brand: "" },
                { id: 18, name: "Fleur Narcotique – Ex Nihilo", category: "women", price: 7200000, brand: "" },
				{ id: 19, name: "Very Sexy – Victoria’s Secret", category: "women", price: 3600000, brand: "" },
				{ id: 20, name: "Black Opium – Yves Saint Laurent", category: "women", price: 3600000, brand: "" },
				{ id: 21, name: "Flowerbomb – Viktor & Rolf", category: "women", price: 5400000, brand: "" },
				{ id: 22, name: "La Vie Est Belle – Lancôme", category: "women", price: 3600000, brand: "" },
							
				// عطرهای یونیسکس
                { id: 23, name: "Angels' Share – By Kilian", category: "unisex", price: 4400000, brand: "" }
                 ];

            const cart = [];
            let activeCategory = 'all';

            // فرمت قیمت به صورت ارز فارسی
            function formatPrice(price) {
                return price.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            }

            // نمایش عطرها در گرید
            function renderPerfumes() {
                const perfumeGrid = document.getElementById('perfume-grid');
                perfumeGrid.innerHTML = '';
                
                const filteredPerfumes = activeCategory === 'all' 
                    ? perfumes 
                    : perfumes.filter(p => p.category === activeCategory);
                
                filteredPerfumes.forEach(perfume => {
                    const perfumeCard = document.createElement('div');
                    perfumeCard.className = 'perfume-card';
                    
                    perfumeCard.innerHTML = `
                        <div class="perfume-info">
                            <div class="perfume-title">${perfume.name}</div>
                            <div class="perfume-brand">${perfume.brand}</div>
                            <div class="perfume-price">${formatPrice(perfume.price)} تومان</div>
                            <button class="add-to-cart" data-id="${perfume.id}">افزودن به سبد خرید</button>
                        </div>
                    `;
                    
                    perfumeGrid.appendChild(perfumeCard);
                });
                
                // افزودن گوش دهنده‌ها به دکمه‌های افزودن به سبد خرید
                document.querySelectorAll('.add-to-cart').forEach(button => {
                    button.addEventListener('click', function() {
                        const perfumeId = parseInt(this.getAttribute('data-id'));
                        addToCart(perfumeId);
                    });
                });
            }

            // افزودن عطر به سبد خرید
            function addToCart(perfumeId) {
                const perfume = perfumes.find(p => p.id === perfumeId);
                
                if (!perfume) return;
                
                const existingItem = cart.find(item => item.id === perfumeId);
                
                if (existingItem) {
                    existingItem.quantity++;
                } else {
                    cart.push({
                        id: perfume.id,
                        name: perfume.name,
                        brand: perfume.brand,
                        price: perfume.price,
                        quantity: 1
                    });
                }
                
                updateCart();
            }

            // بروزرسانی نمایش سبد خرید
            function updateCart() {
                const cartTable = document.getElementById('cart-table');
                const cartItems = document.getElementById('cart-items');
                const cartSummary = document.getElementById('cart-summary');
                const cartEmptyMessage = document.getElementById('cart-empty-message');
                const totalPrice = document.getElementById('total-price');
                
                if (cart.length === 0) {
                    cartTable.style.display = 'none';
                    cartSummary.style.display = 'none';
                    cartEmptyMessage.style.display = 'block';
                    return;
                }
                
                cartTable.style.display = 'table';
                cartSummary.style.display = 'flex';
                cartEmptyMessage.style.display = 'none';
                
                cartItems.innerHTML = '';
                
                let total = 0;
                
                cart.forEach(item => {
                    const itemTotal = item.price * item.quantity;
                    total += itemTotal;
                    
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td data-label="نام عطر">${item.name} (${item.brand})</td>
                        <td data-label="قیمت واحد">${formatPrice(item.price)}</td>
                        <td data-label="تعداد">
                            <input type="number" class="quantity-input" value="${item.quantity}" min="1" data-id="${item.id}">
                        </td>
                        <td data-label="قیمت کل">${formatPrice(itemTotal)}</td>
                        <td data-label="عملیات">
                            <button class="remove-item" data-id="${item.id}">حذف</button>
                        </td>
                    `;
                    
                    cartItems.appendChild(row);
                });
                
                totalPrice.textContent = `${formatPrice(total)} تومان`;
                
                // اضافه کردن گوش دهنده‌ها به تغییرات تعداد و دکمه‌های حذف
                document.querySelectorAll('.quantity-input').forEach(input => {
                    input.addEventListener('change', function() {
                        const id = parseInt(this.getAttribute('data-id'));
                        const quantity = parseInt(this.value);
                        
                        if (quantity < 1) {
                            this.value = 1;
                            return;
                        }
                        
                        const item = cart.find(item => item.id === id);
                        if (item) {
                            item.quantity = quantity;
                            updateCart();
                        }
                    });
                });
                
                document.querySelectorAll('.remove-item').forEach(button => {
                    button.addEventListener('click', function() {
                        const id = parseInt(this.getAttribute('data-id'));
                        const index = cart.findIndex(item => item.id === id);
                        
                        if (index !== -1) {
                            cart.splice(index, 1);
                            updateCart();
                        }
                    });
                });
            }

            // اعتبارسنجی فرم
            function validateForm() {
                const firstName = document.getElementById('firstName').value;
                const lastName = document.getElementById('lastName').value;
                const phone = document.getElementById('phone').value;
                const address = document.getElementById('address').value;
                
                let isValid = true;
                
                // پاک کردن پیام‌های خطا
                document.querySelectorAll('.error').forEach(el => el.textContent = '');
                
                // اعتبارسنجی نام
                if (!firstName.trim()) {
                    document.getElementById('firstName-error').textContent = 'لطفاً نام خود را وارد کنید.';
                    isValid = false;
                }
                
                // اعتبارسنجی نام خانوادگی
                if (!lastName.trim()) {
                    document.getElementById('lastName-error').textContent = 'لطفاً نام خانوادگی خود را وارد کنید.';
                    isValid = false;
                }
                
                // اعتبارسنجی تلفن
                const phoneRegex = /^09\d{9}$/;
                if (!phoneRegex.test(phone)) {
                    document.getElementById('phone-error').textContent = 'لطفاً یک شماره موبایل معتبر وارد کنید. (مثال: 09123456789)';
                    isValid = false;
                }
                
                // اعتبارسنجی آدرس
                if (!address.trim()) {
                    document.getElementById('address-error').textContent = 'لطفاً آدرس محل تحویل را وارد کنید.';
                    isValid = false;
                } else if (address.trim().length < 10) {
                    document.getElementById('address-error').textContent = 'لطفاً آدرس کامل خود را وارد کنید.';
                    isValid = false;
                }
                
                return isValid;
            }

            // ثبت سفارش
            function submitOrder() {
                if (!validateForm()) {
                    alert('لطفاً اطلاعات فرم را به درستی تکمیل کنید.');
                    return;
                }
                
                if (cart.length === 0) {
                    alert('سبد خرید شما خالی است. لطفاً ابتدا محصولی به سبد خرید خود اضافه کنید.');
                    return;
                }
                
                // نمایش بخش ثبت موفق سفارش
                const orderSuccess = document.getElementById('order-success');
                const finalOrderDetails = document.getElementById('final-order-details');
                
                orderSuccess.style.display = 'block';
                
                // دریافت اطلاعات مشتری
                const firstName = document.getElementById('firstName').value;
                const lastName = document.getElementById('lastName').value;
                const phone = document.getElementById('phone').value;
                const address = document.getElementById('address').value;
                
                // ساخت خلاصه سفارش
                let orderSummary = `
                    <h4>اطلاعات خریدار:</h4>
                    <p>نام و نام خانوادگی: ${firstName} ${lastName}</p>
                    <p>شماره موبایل: ${phone}</p>
                    <p>آدرس: ${address}</p>
                    
                    <h4>محصولات:</h4>
                    <table class="cart-table">
                        <thead>
                            <tr>
                                <th>نام عطر</th>
                                <th>تعداد</th>
                                <th>قیمت واحد (تومان)</th>
                                <th>قیمت کل (تومان)</th>
                            </tr>
                        </thead>
                        <tbody>
                `;
                
                let total = 0;
                
                cart.forEach(item => {
                    const itemTotal = item.price * item.quantity;
                    total += itemTotal;
                    
                    orderSummary += `
                        <tr>
                            <td>${item.name} (${item.brand})</td>
                            <td>${item.quantity}</td>
                            <td>${formatPrice(item.price)}</td>
                            <td>${formatPrice(itemTotal)}</td>
                        </tr>
                    `;
                });
                
                orderSummary += `
                        </tbody>
                    </table>
                    
                    <div class="cart-summary">
                        <span>جمع کل:</span>
                        <span class="total-price">${formatPrice(total)} تومان</span>
                    </div>
                `;
                
                finalOrderDetails.innerHTML = orderSummary;
                
                // اسکرول به بخش ثبت موفق سفارش
                orderSuccess.scrollIntoView({ behavior: 'smooth' });
            }

            // مقداردهی اولیه برنامه
            function init() {
                // نمایش اولیه عطرها
                renderPerfumes();
                
                // عملکرد دکمه‌های دسته‌بندی
                document.querySelectorAll('.category-btn').forEach(button => {
                    button.addEventListener('click', function() {
                        document.querySelectorAll('.category-btn').forEach(btn => {
                            btn.classList.remove('active');
                        });
                        
                        this.classList.add('active');
                        activeCategory = this.getAttribute('data-category');
                        
                        renderPerfumes();
                    });
                });
                
                // دکمه ثبت سفارش
                document.getElementById('submit-order').addEventListener('click', submitOrder);
                
                // دکمه چاپ سبد خرید
                document.getElementById('print-cart').addEventListener('click', function() {
                    if (cart.length === 0) {
                        alert('سبد خرید شما خالی است.');
                        return;
                    }
                    
                    window.print();
                });
            }

            // راه‌اندازی برنامه
            init();
        });
    </script>
</body>
</html>
